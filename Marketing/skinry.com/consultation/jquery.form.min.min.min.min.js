/*!
 * jQuery Form Plugin
 * version: 3.50.0-2014.02.05
 * Requires jQuery v1.5 or later
 * Copyright (c) 2013 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */
(function(b){if(typeof define==="function"&&define.amd){define(["jquery"],b)}else{b((typeof(jQuery)!="undefined")?jQuery:window.Zepto)}}(function(k){var h={};h.fileapi=k("<input type='file'/>").get(0).files!==undefined;h.formdata=window.FormData!==undefined;var l=!!k.fn.prop;k.fn.attr2=function(){if(!l){return this.attr.apply(this,arguments)}var a=this.prop.apply(this,arguments);if((a&&a.jquery)||typeof a==="string"){return a}return this.attr.apply(this,arguments)};k.fn.ajaxSubmit=function(X){if(!this.length){g("ajaxSubmit: skipping submit process - no element selected");return this}var Y,N,V,T=this;if(typeof X=="function"){X={success:X}}else{if(X===undefined){X={}}}Y=X.type||this.attr2("method");N=X.url||this.attr2("action");V=(typeof N==="string")?k.trim(N):"";V=V||window.location.href||"";if(V){V=(V.match(/^([^#]+)/)||[])[1]}X=k.extend(true,{url:V,success:k.ajaxSettings.success,type:Y||k.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},X);var c={};this.trigger("form-pre-serialize",[this,X,c]);if(c.veto){g("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(X.beforeSerialize&&X.beforeSerialize(this,X)===false){g("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var U=X.traditional;if(U===undefined){U=k.ajaxSettings.traditional}var H=[];var f,b=this.formToArray(X.semantic,H);if(X.data){X.extraData=X.data;f=k.param(X.data,U)}if(X.beforeSubmit&&X.beforeSubmit(b,this,X)===false){g("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[b,this,X,c]);if(c.veto){g("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var I=k.param(b,U);if(f){I=(I?(I+"&"+f):f)}if(X.type.toUpperCase()=="GET"){X.url+=(X.url.indexOf("?")>=0?"&":"?")+I;X.data=null}else{X.data=I}var O=[];if(X.resetForm){O.push(function(){T.resetForm()})}if(X.clearForm){O.push(function(){T.clearForm(X.includeHidden)})}if(!X.dataType&&X.target){var W=X.success||function(){};O.push(function(m){var n=X.replaceTarget?"replaceWith":"html";k(X.target)[n](m).each(W,arguments)})}else{if(X.success){O.push(X.success)}}X.success=function(m,r,s){var o=X.context||this;for(var p=0,n=O.length;p<n;p++){O[p].apply(o,[m,r,s||T,T])}};if(X.error){var q=X.error;X.error=function(m,p,o){var n=X.context||this;q.apply(n,[m,p,o,T])}}if(X.complete){var Z=X.complete;X.complete=function(m,o){var n=X.context||this;Z.apply(n,[m,o,T])}}var J=k("input[type=file]:enabled",this).filter(function(){return k(this).val()!==""});var S=J.length>0;var Q="multipart/form-data";var L=(T.attr("enctype")==Q||T.attr("encoding")==Q);var M=h.fileapi&&h.formdata;g("fileAPI :"+M);var K=(S||L)&&!M;var a;if(X.iframe!==false&&(X.iframe||K)){if(X.closeKeepAlive){k.get(X.closeKeepAlive,function(){a=P(b)})}else{a=P(b)}}else{if((S||L)&&M){a=d(b)}else{a=k.ajax(X)}}T.removeData("jqxhr").data("jqxhr",a);for(var R=0;R<H.length;R++){H[R]=null}this.trigger("form-submit-notify",[this,X]);return this;function e(m){var s=k.param(m,X.traditional).split("&");var r=s.length;var o=[];var n,p;for(n=0;n<r;n++){s[n]=s[n].replace(/\+/g," ");p=s[n].split("=");o.push([decodeURIComponent(p[0]),decodeURIComponent(p[1])])}return o}function d(r){var o=new FormData();for(var p=0;p<r.length;p++){o.append(r[p].name,r[p].value)}if(X.extraData){var s=e(X.extraData);for(p=0;p<s.length;p++){if(s[p]){o.append(s[p][0],s[p][1])}}}X.data=null;var m=k.extend(true,{},k.ajaxSettings,X,{contentType:false,processData:false,cache:false,type:Y||"POST"});if(X.uploadProgress){m.xhr=function(){var t=k.ajaxSettings.xhr();if(t.upload){t.upload.addEventListener("progress",function(u){var v=0;var x=u.loaded||u.position;var w=u.total;if(u.lengthComputable){v=Math.ceil(x/w*100)}X.uploadProgress(u,x,w,v)},false)}return t}}m.data=null;var n=m.beforeSend;m.beforeSend=function(t,u){if(X.formData){u.data=X.formData}else{u.data=o}if(n){n.call(this,t,u)}};return k.ajax(m)}function P(aj){var p=T[0],s,ap,r,al,ao,G,B,E,D,am,an,v;var C=k.Deferred();C.abort=function(aa){E.abort(aa)};if(aj){for(ap=0;ap<H.length;ap++){s=k(H[ap]);if(l){s.prop("disabled",false)}else{s.removeAttr("disabled")}}}r=k.extend(true,{},k.ajaxSettings,X);r.context=r.context||r;ao="jqFormIO"+(new Date().getTime());if(r.iframeTarget){G=k(r.iframeTarget);am=G.attr2("name");if(!am){G.attr2("name",ao)}else{ao=am}}else{G=k('<iframe name="'+ao+'" src="'+r.iframeSrc+'" />');G.css({position:"absolute",top:"-1000px",left:"-1000px"})}B=G[0];E={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(ab){var aa=(ab==="timeout"?"timeout":"aborted");g("aborting upload... "+aa);this.aborted=1;try{if(B.contentWindow.document.execCommand){B.contentWindow.document.execCommand("Stop")}}catch(ac){}G.attr("src",r.iframeSrc);E.error=aa;if(r.error){r.error.call(r.context,E,aa,ab)}if(al){k.event.trigger("ajaxError",[E,r,aa])}if(r.complete){r.complete.call(r.context,E,aa)}}};al=r.global;if(al&&0===k.active++){k.event.trigger("ajaxStart")}if(al){k.event.trigger("ajaxSend",[E,r])}if(r.beforeSend&&r.beforeSend.call(r.context,E,r)===false){if(r.global){k.active--}C.reject();return C}if(E.aborted){C.reject();return C}D=p.clk;if(D){am=D.name;if(am&&!D.disabled){r.extraData=r.extraData||{};r.extraData[am]=D.value;if(D.type=="image"){r.extraData[am+".x"]=p.clk_x;r.extraData[am+".y"]=p.clk_y}}}var t=1;var z=2;function x(ac){var aa=null;try{if(ac.contentWindow){aa=ac.contentWindow.document}}catch(ab){g("cannot get iframe.contentWindow document: "+ab)}if(aa){return aa}try{aa=ac.contentDocument?ac.contentDocument:ac.document}catch(ab){g("cannot get iframe.contentDocument: "+ab);aa=ac.document}return aa}var u=k("meta[name=csrf-token]").attr("content");var w=k("meta[name=csrf-param]").attr("content");if(w&&u){r.extraData=r.extraData||{};r.extraData[w]=u}function ar(){var aa=T.attr2("target"),ae=T.attr2("action"),ag="multipart/form-data",ad=T.attr("enctype")||T.attr("encoding")||ag;p.setAttribute("target",ao);if(!Y||/post/i.test(Y)){p.setAttribute("method","POST")}if(ae!=r.url){p.setAttribute("action",r.url)}if(!r.skipEncodingOverride&&(!Y||/post/i.test(Y))){T.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(r.timeout){v=setTimeout(function(){an=true;m(t)},r.timeout)}function ac(){try{var aw=x(B).readyState;g("state = "+aw);if(aw&&aw.toLowerCase()=="uninitialized"){setTimeout(ac,50)}}catch(av){g("Server abort: ",av," (",av.name,")");m(z);if(v){clearTimeout(v)}v=undefined}}var ab=[];try{if(r.extraData){for(var ah in r.extraData){if(r.extraData.hasOwnProperty(ah)){if(k.isPlainObject(r.extraData[ah])&&r.extraData[ah].hasOwnProperty("name")&&r.extraData[ah].hasOwnProperty("value")){ab.push(k('<input type="hidden" name="'+r.extraData[ah].name+'">').val(r.extraData[ah].value).appendTo(p)[0])}else{ab.push(k('<input type="hidden" name="'+ah+'">').val(r.extraData[ah]).appendTo(p)[0])}}}}if(!r.iframeTarget){G.appendTo("body")}if(B.attachEvent){B.attachEvent("onload",m)}else{B.addEventListener("load",m,false)}setTimeout(ac,15);try{p.submit()}catch(af){var aq=document.createElement("form").submit;aq.apply(p)}}finally{p.setAttribute("action",ae);p.setAttribute("enctype",ad);if(aa){p.setAttribute("target",aa)}else{T.removeAttr("target")}k(ab).remove()}}if(r.forceSync){ar()}else{setTimeout(ar,10)}var ai,F,ak=50,n;function m(af){if(E.aborted||n){return}F=x(B);if(!F){g("cannot access response document");af=z}if(af===t&&E){E.abort("timeout");C.reject(E,"timeout");return}else{if(af==z&&E){E.abort("server abort");C.reject(E,"error","server abort");return}}if(!F||F.location.href==r.iframeSrc){if(!an){return}}if(B.detachEvent){B.detachEvent("onload",m)}else{B.removeEventListener("load",m,false)}var ah="success",ad;try{if(an){throw"timeout"}var aq=r.dataType=="xml"||F.XMLDocument||k.isXMLDoc(F);g("isXml="+aq);if(!aq&&window.opera&&(F.body===null||!F.body.innerHTML)){if(--ak){g("requeing onLoad callback, DOM not available");setTimeout(m,250);return}}var ac=F.body?F.body:F.documentElement;E.responseText=ac?ac.innerHTML:null;E.responseXML=F.XMLDocument?F.XMLDocument:F;if(aq){r.dataType="xml"}E.getResponseHeader=function(at){var au={"content-type":r.dataType};return au[at.toLowerCase()]};if(ac){E.status=Number(ac.getAttribute("status"))||E.status;E.statusText=ac.getAttribute("statusText")||E.statusText}var aa=(r.dataType||"").toLowerCase();var ae=/(json|script|text)/.test(aa);if(ae||r.textarea){var ag=F.getElementsByTagName("textarea")[0];if(ag){E.responseText=ag.value;E.status=Number(ag.getAttribute("status"))||E.status;E.statusText=ag.getAttribute("statusText")||E.statusText}else{if(ae){var aw=F.getElementsByTagName("pre")[0];var ab=F.getElementsByTagName("body")[0];if(aw){E.responseText=aw.textContent?aw.textContent:aw.innerText}else{if(ab){E.responseText=ab.textContent?ab.textContent:ab.innerText}}}}}else{if(aa=="xml"&&!E.responseXML&&E.responseText){E.responseXML=o(E.responseText)}}try{ai=A(E,aa,r)}catch(av){ah="parsererror";E.error=ad=(av||ah)}}catch(av){g("error caught: ",av);ah="error";E.error=ad=(av||ah)}if(E.aborted){g("upload aborted");ah=null}if(E.status){ah=(E.status>=200&&E.status<300||E.status===304)?"success":"error"}if(ah==="success"){if(r.success){r.success.call(r.context,ai,"success",E)}C.resolve(E.responseText,"success",E);if(al){k.event.trigger("ajaxSuccess",[E,r])}}else{if(ah){if(ad===undefined){ad=E.statusText}if(r.error){r.error.call(r.context,E,ah,ad)}C.reject(E,"error",ad);if(al){k.event.trigger("ajaxError",[E,r,ad])}}}if(al){k.event.trigger("ajaxComplete",[E,r])}if(al&&!--k.active){k.event.trigger("ajaxStop")}if(r.complete){r.complete.call(r.context,E,ah)}n=true;if(r.timeout){clearTimeout(v)}setTimeout(function(){if(!r.iframeTarget){G.remove()}else{G.attr("src",r.iframeSrc)}E.responseXML=null},100)}var o=k.parseXML||function(ab,aa){if(window.ActiveXObject){aa=new ActiveXObject("Microsoft.XMLDOM");aa.async="false";aa.loadXML(ab)}else{aa=(new DOMParser()).parseFromString(ab,"text/xml")}return(aa&&aa.documentElement&&aa.documentElement.nodeName!="parsererror")?aa:null};var y=k.parseJSON||function(aa){return window["eval"]("("+aa+")")};var A=function(ac,ae,af){var aa=ac.getResponseHeader("content-type")||"",ab=ae==="xml"||!ae&&aa.indexOf("xml")>=0,ad=ab?ac.responseXML:ac.responseText;if(ab&&ad.documentElement.nodeName==="parsererror"){if(k.error){k.error("parsererror")}}if(af&&af.dataFilter){ad=af.dataFilter(ad,ae)}if(typeof ad==="string"){if(ae==="json"||!ae&&aa.indexOf("json")>=0){ad=y(ad)}else{if(ae==="script"||!ae&&aa.indexOf("javascript")>=0){k.globalEval(ad)}}}return ad};return C}};k.fn.ajaxForm=function(b){b=b||{};b.delegation=b.delegation&&k.isFunction(k.fn.on);if(!b.delegation&&this.length===0){var a={s:this.selector,c:this.context};if(!k.isReady&&a.s){g("DOM not ready, queuing ajaxForm");k(function(){k(a.s,a.c).ajaxForm(b)});return this}g("terminating; zero elements found by selector"+(k.isReady?"":" (DOM not ready)"));return this}if(b.delegation){k(document).off("submit.form-plugin",this.selector,i).off("click.form-plugin",this.selector,j).on("submit.form-plugin",this.selector,b,i).on("click.form-plugin",this.selector,b,j);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",b,i).bind("click.form-plugin",b,j)};function i(a){var b=a.data;if(!a.isDefaultPrevented()){a.preventDefault();k(a.target).ajaxSubmit(b)}}function j(f){var a=f.target;var c=k(a);if(!(c.is("[type=submit],[type=image]"))){var d=c.closest("[type=submit]");if(d.length===0){return}a=d[0]}var b=this;b.clk=a;if(a.type=="image"){if(f.offsetX!==undefined){b.clk_x=f.offsetX;b.clk_y=f.offsetY}else{if(typeof k.fn.offset=="function"){var e=c.offset();b.clk_x=f.pageX-e.left;b.clk_y=f.pageY-e.top}else{b.clk_x=f.pageX-a.offsetLeft;b.clk_y=f.pageY-a.offsetTop}}}setTimeout(function(){b.clk=b.clk_x=b.clk_y=null},100)}k.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};k.fn.formToArray=function(D,A){var E=[];if(this.length===0){return E}var v=this[0];var B=this.attr("id");var c=D?v.getElementsByTagName("*"):v.elements;var f;if(c&&!/MSIE [678]/.test(navigator.userAgent)){c=k(c).get()}if(B){f=k(":input[form="+B+"]").get();if(f.length){c=(c||[]).concat(f)}}if(!c||!c.length){return E}var a,d,e,C,n,H,F;for(a=0,H=c.length;a<H;a++){n=c[a];e=n.name;if(!e||n.disabled){continue}if(D&&v.clk&&n.type=="image"){if(v.clk==n){E.push({name:e,value:k(n).val(),type:n.type});E.push({name:e+".x",value:v.clk_x},{name:e+".y",value:v.clk_y})}continue}C=k.fieldValue(n,true);if(C&&C.constructor==Array){if(A){A.push(n)}for(d=0,F=C.length;d<F;d++){E.push({name:e,value:C[d]})}}else{if(h.fileapi&&n.type=="file"){if(A){A.push(n)}var z=n.files;if(z.length){for(d=0;d<z.length;d++){E.push({name:e,value:z[d],type:n.type})}}else{E.push({name:e,value:"",type:n.type})}}else{if(C!==null&&typeof C!="undefined"){if(A){A.push(n)}E.push({name:e,value:C,type:n.type,required:n.required})}}}}if(!D&&v.clk){var b=k(v.clk),G=b[0];e=G.name;if(e&&!G.disabled&&G.type=="image"){E.push({name:e,value:b.val()});E.push({name:e+".x",value:v.clk_x},{name:e+".y",value:v.clk_y})}}return E};k.fn.formSerialize=function(a){return k.param(this.formToArray(a))};k.fn.fieldSerialize=function(a){var b=[];this.each(function(){var c=this.name;if(!c){return}var e=k.fieldValue(this,a);if(e&&e.constructor==Array){for(var d=0,f=e.length;d<f;d++){b.push({name:c,value:e[d]})}}else{if(e!==null&&typeof e!="undefined"){b.push({name:this.name,value:e})}}});return k.param(b)};k.fn.fieldValue=function(e){for(var f=[],b=0,d=this.length;b<d;b++){var a=this[b];var c=k.fieldValue(a,e);if(c===null||typeof c=="undefined"||(c.constructor==Array&&!c.length)){continue}if(c.constructor==Array){k.merge(f,c)}else{f.push(c)}}return f};k.fieldValue=function(a,n){var y=a.name,e=a.type,c=a.tagName.toLowerCase();if(n===undefined){n=true}if(n&&(!y||a.disabled||e=="reset"||e=="button"||(e=="checkbox"||e=="radio")&&!a.checked||(e=="submit"||e=="image")&&a.form&&a.form.clk!=a||c=="select"&&a.selectedIndex==-1)){return null}if(c=="select"){var f=a.selectedIndex;if(f<0){return null}var b=[],z=a.options;var v=(e=="select-one");var d=(v?f+1:z.length);for(var w=(v?f:0);w<d;w++){var t=z[w];if(t.selected){var x=t.value;if(!x){x=(t.attributes&&t.attributes.value&&!(t.attributes.value.specified))?t.text:t.value}if(v){return x}b.push(x)}}return b}return k(a).val()};k.fn.clearForm=function(a){return this.each(function(){k("input,select,textarea",this).clearFields(a)})};k.fn.clearFields=k.fn.clearInputs=function(b){var a=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var c=this.type,d=this.tagName.toLowerCase();if(a.test(c)||d=="textarea"){this.value=""}else{if(c=="checkbox"||c=="radio"){this.checked=false}else{if(d=="select"){this.selectedIndex=-1}else{if(c=="file"){if(/MSIE/.test(navigator.userAgent)){k(this).replaceWith(k(this).clone(true))}else{k(this).val("")}}else{if(b){if((b===true&&/hidden/.test(c))||(typeof b=="string"&&k(this).is(b))){this.value=""}}}}}}})};k.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};k.fn.enable=function(a){if(a===undefined){a=true}return this.each(function(){this.disabled=!a})};k.fn.selected=function(a){if(a===undefined){a=true}return this.each(function(){var b=this.type;if(b=="checkbox"||b=="radio"){this.checked=a}else{if(this.tagName.toLowerCase()=="option"){var c=k(this).parent("select");if(a&&c[0]&&c[0].type=="select-one"){c.find("option").selected(false)}this.selected=a}}})};k.fn.ajaxSubmit.debug=false;function g(){if(!k.fn.ajaxSubmit.debug){return}var a="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(a)}else{if(window.opera&&window.opera.postError){window.opera.postError(a)}}}}));